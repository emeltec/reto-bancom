"use strict";(self.webpackChunkreto_bancom=self.webpackChunkreto_bancom||[]).push([[770],{2770:(R,h,s)=>{s.r(h),s.d(h,{UsersModule:()=>B});var d=s(6895),u=s(1981),p=s(7340),g=s(5412),t=s(4650),c=s(4006),v=s(1135);let f=(()=>{class e{constructor(){this.dataPosts$=new v.X({})}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var T=s(3086);let U=(()=>{class e{constructor(n,o,a,r,m){this.fb=n,this.postService=o,this.message=a,this.dialogRef=r,this.data=m,this.formPost=n.group({title:[""],description:[""]})}ngOnInit(){}savePost(){const n=this.formPost.value;if(""==n.title||""==n.description)return void this.message.showMessageError("El t\xedtulo y la descripci\xf3n son obligatorios","");const o={id:Math.random(),title:n.title,description:n.description};this.postService.dataPosts$.next(o),this.close()}close(){this.formPost.controls.title.setValue(""),this.formPost.controls.description.setValue(""),this.dialogRef.close()}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(c.qu),t.Y36(f),t.Y36(T.K),t.Y36(g.so),t.Y36(g.WI))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dialog"]],decls:18,vars:1,consts:[[1,"dialog-content"],[1,"dialog-header"],["src","/assets/images/icon_close.svg","alt","cerrar",3,"click"],[1,"dialog-body"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","email","formControlName","title","id","titleInput","autocomplete","off","required","",1,"form-control"],["for","titleInput"],["formControlName","description","id","decsInput","autocomplete","off","rows","3","required","",1,"form-control"],["for","decsInput"],[1,"mb-3","text-center"],["type","submit",1,"btn","btn-primary","btn-login","mb-2"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"img",2),t.NdJ("click",function(){return a.close()}),t.qZA()(),t.TgZ(3,"div",3)(4,"h4"),t._uU(5,"Crear post"),t.qZA(),t.TgZ(6,"form",4),t.NdJ("ngSubmit",function(){return a.savePost()}),t.TgZ(7,"div",5),t._UZ(8,"input",6),t.TgZ(9,"label",7),t._uU(10,"T\xedtulo"),t.qZA()(),t.TgZ(11,"div",5),t._UZ(12,"textarea",8),t.TgZ(13,"label",9),t._uU(14,"Descripci\xf3n"),t.qZA()(),t.TgZ(15,"div",10)(16,"button",11),t._uU(17,"Guardar"),t.qZA()()()()()),2&o&&(t.xp6(6),t.Q6J("formGroup",a.formPost))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u],styles:[".dialog-content[_ngcontent-%COMP%]{padding:1.5rem}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:end;padding-bottom:1.5rem}.dialog-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.dialog-body[_ngcontent-%COMP%]{padding:1.5rem}.dialog-body[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:auto!important}"]})}return e})();var Z=s(4004),_=s(529);let x=(()=>{class e{constructor(n){this.http=n,this.apiUrl="https://jsonplaceholder.typicode.com/users"}getUsers(){return this.http.get(this.apiUrl).pipe((0,Z.U)(n=>this.userDapter(n)))}userDapter(n){return n.map(o=>({id:o.id,name:o.name,username:o.username,email:o.email,phone:o.phone,posts:[]}))}static#t=this.\u0275fac=function(o){return new(o||e)(t.LFG(_.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var w=s(7392),l=s(5717);function b(e,i){if(1&e&&(t.TgZ(0,"th",20),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n," ")}}function D(e,i){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const n=i.$implicit,o=t.oxw().$implicit;t.xp6(1),t.hij(" ",n[o]," ")}}function y(e,i){1&e&&(t.ynx(0,18),t.YNc(1,b,2,1,"th",19),t.YNc(2,D,2,1,"td",13),t.BQk()),2&e&&t.s9C("matColumnDef",i.$implicit)}function P(e,i){1&e&&(t.TgZ(0,"th",22),t._uU(1,"\xa0"),t.qZA())}function A(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"keyboard_arrow_down"),t.qZA())}function O(e,i){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"keyboard_arrow_up"),t.qZA())}function Y(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",21)(1,"button",23),t.NdJ("click",function(a){const m=t.CHM(n).$implicit,C=t.oxw();return C.expandedElement=C.expandedElement===m?null:m,t.KtG(a.stopPropagation())}),t.YNc(2,A,2,0,"mat-icon",24),t.YNc(3,O,2,0,"mat-icon",24),t.qZA()()}if(2&e){const n=i.$implicit,o=t.oxw();t.xp6(2),t.Q6J("ngIf",o.expandedElement!==n),t.xp6(1),t.Q6J("ngIf",o.expandedElement===n)}}function J(e,i){if(1&e&&(t.TgZ(0,"div")(1,"h4"),t._uU(2),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA()()),2&e){const n=i.$implicit;t.xp6(2),t.Oqu(null==n?null:n.title),t.xp6(2),t.Oqu(null==n?null:n.description)}}function M(e,i){if(1&e&&(t.TgZ(0,"div",30),t.YNc(1,J,5,2,"div",31),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",n.posts)}}function N(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"Aun no tienes posts"),t.qZA())}function S(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",21)(1,"div",25)(2,"div",26),t.YNc(3,M,2,1,"div",27),t.TgZ(4,"div",28),t.YNc(5,N,2,0,"p",24),t.TgZ(6,"button",29),t.NdJ("click",function(){const r=t.CHM(n).$implicit,m=t.oxw();return t.KtG(m.openDialog(r))}),t._uU(7,"Crear un post"),t.qZA()()()()()}if(2&e){const n=i.$implicit,o=t.oxw();t.uIk("colspan",o.columnsToDisplayWithExpand.length),t.xp6(1),t.Q6J("@detailExpand",n==o.expandedElement?"expanded":"collapsed"),t.xp6(2),t.Q6J("ngIf",n.posts.length>0),t.xp6(2),t.Q6J("ngIf",0==n.posts.length)}}function E(e,i){1&e&&t._UZ(0,"tr",32)}function F(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr",33),t.NdJ("click",function(){const r=t.CHM(n).$implicit,m=t.oxw();return t.KtG(m.expandedElement=m.expandedElement===r?null:r)}),t.qZA()}if(2&e){const n=i.$implicit,o=t.oxw();t.ekj("example-expanded-row",o.expandedElement===n)}}function I(e,i){1&e&&t._UZ(0,"tr",34)}const k=function(){return["expandedDetail"]},Q=[{path:"",component:(()=>{class e{constructor(n,o,a,r){this.dialog=n,this.userService=o,this.postService=a,this.router=r,this.dataSource=[],this.columnsToDisplay=["name","username","email","phone"],this.columnsToDisplayWithExpand=[...this.columnsToDisplay,"expand"],this.expandedElement=[],this.currentUserId=0,this.userData={username:"",password:""}}ngOnInit(){this.userService.getUsers().subscribe(n=>{this.dataSource=n}),this.postService.dataPosts$.asObservable().subscribe(n=>{this.addPost(n)}),this.getUserData()}openDialog(n){this.currentUserId=n.id,this.dialog.open(U,{width:"640px",enterAnimationDuration:"300ms",exitAnimationDuration:"300ms",data:n})}addPost(n){this.dataSource.find(o=>o.id===this.currentUserId)?.posts.push(n)}logout(){this.router.navigate(["/"]),localStorage.clear()}getUserData(){const n=JSON.parse(localStorage.getItem("userdata")||"{}");this.userData=n}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(g.uw),t.Y36(x),t.Y36(f),t.Y36(u.F0))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-users"]],decls:21,vars:7,consts:[[1,"nav"],[1,"container","py-3","d-flex","justify-content-between"],["href","#",1,"navbar-brand"],["src","/assets/images/logo_home.svg","alt","logo"],["id","navbarsExampleDefault",1,""],[1,"d-flex"],[1,"me-4"],["type","button",1,"btn","btn-outline-danger","me-4",3,"click"],[1,"container","mt-5","py-5"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","expand"],["mat-header-cell","","aria-label","row actions",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","aria-label","row actions"],["mat-icon-button","","aria-label","expand row",1,"btn-icon-table",3,"click"],[4,"ngIf"],[1,""],[1,"row","my-3"],["class","col",4,"ngIf"],[1,"col","text-center"],[1,"btn","btn-primary",3,"click"],[1,"col"],[4,"ngFor","ngForOf"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(o,a){1&o&&(t.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7),t.qZA(),t.TgZ(8,"button",7),t.NdJ("click",function(){return a.logout()}),t._uU(9,"Cerrar sesi\xf3n"),t.qZA()()()()(),t.TgZ(10,"div",8)(11,"table",9),t.YNc(12,y,3,1,"ng-container",10),t.ynx(13,11),t.YNc(14,P,2,0,"th",12),t.YNc(15,Y,4,2,"td",13),t.BQk(),t.ynx(16,14),t.YNc(17,S,8,4,"td",13),t.BQk(),t.YNc(18,E,1,0,"tr",15),t.YNc(19,F,1,2,"tr",16),t.YNc(20,I,1,0,"tr",17),t.qZA()()),2&o&&(t.xp6(7),t.hij(" ",a.userData.username," "),t.xp6(4),t.Q6J("dataSource",a.dataSource),t.xp6(1),t.Q6J("ngForOf",a.columnsToDisplay),t.xp6(6),t.Q6J("matHeaderRowDef",a.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",a.columnsToDisplayWithExpand),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(6,k)))},dependencies:[d.sg,d.O5,w.Hw,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:whitesmoke}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[(0,p.X$)("detailExpand",[(0,p.SB)("collapsed",(0,p.oB)({height:"0px",minHeight:"0"})),(0,p.SB)("expanded",(0,p.oB)({height:"*"})),(0,p.eR)("expanded <=> collapsed",(0,p.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}return e})()}];let $=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(Q),d.ez,u.Bz]})}return e})();var j=s(8135);let B=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({providers:[x,f],imports:[d.ez,$,j.h,c.UX,_.JF]})}return e})()}}]);